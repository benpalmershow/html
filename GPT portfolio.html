<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="/_vercel/insights/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="/css/body.css">
    <title>GPT Portfolio Dashboard</title>
    <style>
      /* Your existing general styles */
      .category-header {
        background-color: var(--bg-secondary, #f8f9fa);
        font-weight: bold;
        color: var(--text-primary, #333);
        padding: 0.75rem 1rem;
        border-top: 2px solid var(--border-color, #dee2e6);
      }
      
      .category-divider {
        border-bottom: 1px solid var(--border-color, #dee2e6);
      }
      
      .number {
        text-align: right;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 0.9em;
      }
      
      .loading-state {
        text-align: center;
        padding: 2rem;
        color: var(--text-secondary, #666);
        font-style: italic;
      }
      
      .error-state {
        text-align: center;
        padding: 2rem;
        color: var(--error-color, #dc3545);
        background-color: var(--error-bg, #f8d7da);
        border: 1px solid var(--error-border, #f5c6cb);
        border-radius: 4px;
        margin: 1rem 0;
      }
      
      .data-notes {
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--border-color, #dee2e6);
      }
      
      .data-notes h3 {
        margin-bottom: 1rem;
        color: var(--text-primary, #333);
      }
      
      .data-notes ul {
        margin-bottom: 1rem;
      }
      
      .data-notes li {
        margin-bottom: 0.5rem;
      }
      
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1rem;
      }
      
      th, td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--border-color, #dee2e6);
        white-space: nowrap; /* Prevent text wrapping in cells */
      }
      
      th {
        background-color: var(--bg-secondary, #f8f9fa);
        font-weight: 600;
        color: var(--text-primary, #333);
      }
      
      tr:hover {
        background-color: var(--hover-bg, #f8f9fa);
      }
      
      a {
        color: var(--link-color, #007bff);
        text-decoration: none;
      }
      
      a:hover {
        text-decoration: underline;
      }
      
      /* Portfolio-specific styles */
      .table-container {
        width: 100%;
        min-height: 600px;
        position: relative;
        border: 1px solid var(--border-color, #dee2e6);
        border-radius: 4px;
        overflow-x: auto; /* Allow horizontal scrolling for the table */
        background-color: white;
      }
      
      /* New styles for the dynamically generated table */
      #portfolio-table-container table {
        /* This container helps with horizontal scrolling if needed */
        display: block; /* Allows overflow-x to work on the table itself */
        width: max-content; /* Table will take minimum required width */
      }
      
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .table-container {
          min-height: 500px;
        }

        /* --- Vertical Ticker Pill Style for Small Screens --- */
        /* Assuming 'Ticker' is the first column (index 0) */
        #portfolio-table-container th:first-child,
        #portfolio-table-container td:first-child {
            writing-mode: vertical-rl; /* Rotate text vertically */
            text-orientation: mixed; /* Ensure characters are upright */
            transform: rotate(180deg); /* Rotate for standard reading direction */
            height: 80px; /* Adjust height to accommodate vertical text */
            width: 40px; /* Adjust width to make it a narrow column */
            padding: 0.5rem 0.25rem; /* Reduced padding */
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid var(--border-color, #dee2e6); /* Keep consistent border */
            /* Pill specific styles for the data cells */
            border-radius: 15px; /* Rounded corners */
            background-color: var(--bg-secondary, #f0f0f0); /* Light background */
            font-weight: bold;
            color: var(--text-primary, #333);
            margin: 0.25rem 0; /* Add slight vertical margin between pills */
        }
        
        /* Adjust cell styles for other columns on small screens if necessary */
        #portfolio-table-container th,
        #portfolio-table-container td {
            padding: 0.5rem; /* Slightly reduced padding for all cells on small screens */
        }
        
        /* Remove specific border-bottom for ticker cells as the pill has its own styling */
        #portfolio-table-container td:first-child {
            border-bottom: none; 
            border-right: 1px solid var(--border-color, #dee2e6); /* Add right border to separate pills */
        }

        /* Ensure header for vertical ticker also rotates */
        #portfolio-table-container th:first-child {
             padding: 0.5rem 0.25rem; /* Adjust header padding */
             height: auto; /* Let content define height */
             background-color: var(--bg-secondary, #f8f9fa); /* Keep header background */
             border-radius: 0; /* No border-radius for header */
        }
      }
    </style>
    <meta name="description" content="Investment portfolio tracking and performance dashboard with real-time data visualization.">
    <meta name="keywords" content="portfolio, investments, stocks, financial tracking, performance dashboard">
    <meta name="author" content="HowdyStranger">
    <meta property="og:title" content="Investment Portfolio Dashboard">
    <meta property="og:description" content="Track investment portfolio performance and holdings with comprehensive data visualization.">
    <meta property="og:type" content="website">
  </head>
  <body>
    <header class="site-header">
      <div class="logo-container">
        <img src="images/logo.png" alt="Howdy Stranger" class="logo">
      </div>
    </header>
    <nav class="nav-links"></nav>
    <div class="content">
      <div class="card">
        <h1>GPT Portfolio Dashboard</h1>
        <div class="table-container">
          <div id="loading-message" class="loading-state">Loading portfolio data...</div>
          <div id="error-message" class="error-state" style="display: none;"></div>
          <div id="portfolio-table-container"></div>
        </div>
        <div class="data-notes">
          <h3>Portfolio Notes & Information</h3>
          <p style="font-size: 0.9em; color: var(--text-secondary, #666); margin-top: 1.5em;">
            This live portfolio was automated by Autopilot with a $1,000 allocation.
          </p>
          <div id="last-updated" style="font-size: 0.8em; color: var(--text-secondary, #888); margin-top: 1em; text-align: center;">
            Portfolio data refreshed automatically
          </div>
        </div>
      </div>
    </div>
    <script src="/js/nav.js"></script>
    <script src="/js/portfolio.js"></script>
  </body>
</html>