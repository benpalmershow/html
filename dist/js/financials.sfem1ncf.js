var E=null;async function L(){let q=["/html/json/financials-data.json","/json/financials-data.json"];try{let Q=q.map(async(G)=>{let J=await fetch(G,{headers:{Accept:"application/json"},cache:"no-cache"});if(!J.ok)throw Error(`Failed to fetch from ${G}`);return J.json()});E=await Promise.any(Q),w()}catch(Q){console.error("Could not load financial data from any path:",Q),document.getElementById("categories").innerHTML='<div class="error">Error loading financial data. Please try again later.</div>'}}function S(q){return new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function j(q){if(q==="—"||q==="0"||q==="0.00")return"change-neutral";if(q.startsWith("+"))return"change-positive";if(q.startsWith("-"))return"change-negative";return"change-neutral"}function Y(q){if(!q||q===""||q.startsWith("TBD")||q==="—")return null;let Q=q.toString().replace(/[$,%]/g,"").replace(/^\+/g,"").replace(/[A-Za-z]/g,"").trim();if(q.includes("M"))Q=Q.replace(/M$/,"");if(q.includes("B"))Q=Q.replace(/B$/,"");let G=parseFloat(Q);return isNaN(G)?null:G}function M(q){let Q=["february","march","april","may","june","july","august","september","october","november","december"],G=null,J=null,U="";for(let _=Q.length-1;_>=0;_--){let X=Q[_],W=q[X];if(W&&W!==""&&!W.startsWith("TBD")){if(G===null)G=Y(W),U=W;else if(J===null){J=Y(W);break}}}if(G===null||J===null||J===0)return null;let Z=(G-J)/Math.abs(J)*100,$=G-J;return{percentChange:Z,numberChange:$,currentRawValue:U}}function R(q){let Q=["february","march","april","may","june","july","august","september","october","november","december"],G=[];for(let J=1;J<Q.length;J++){let U=Q[J],Z=Q[J-1],$=Y(q[U]),_=Y(q[Z]);if($!==null&&_!==null){let X=$-_,W;if(Math.abs(X)>=1000)W=X>=0?`+${X.toLocaleString()}`:X.toLocaleString();else W=X>=0?`+${X.toFixed(2)}`:X.toFixed(2),W=W.replace(".00","");G.push({month:U,change:X,formatted:W})}}return G}function O(q){if(q===null)return"—";return`${q>=0?"+":""}${q.toFixed(2)}%`}function D(q){let Q=["march","april","may","june","july","august","september","october","november","december"],G=["Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J="",U=M(q);if(q.name.includes("FOMC")&&q.bps_probabilities)J+=`<div class="data-row"><span class="month-label">Next Meeting:</span> <span class="month-value">${q.next_meeting||""}</span></div>`,Object.entries(q.bps_probabilities).forEach(([X,W])=>{if(W)J+=`<div class="data-row"><span class="month-label">${X}:</span> <span class="month-value">${W}</span></div>`});else if(q.name.includes("Recession")){if(q.yes_probability)J+=`<div class="data-row"><span class="month-label">Yes:</span> <span class="month-value">${q.yes_probability}</span></div>`;if(q.no_probability)J+=`<div class="data-row"><span class="month-label">No:</span> <span class="month-value">${q.no_probability}</span></div>`}else if(q.name.includes("@")){if(q.game_title)J+=`<div class="data-row"><span class="month-label">Game:</span> <span class="month-value">${q.game_title}</span></div>`;if(q.game_time)J+=`<div class="data-row"><span class="month-label">Time:</span> <span class="month-value"><span class="game-countdown" data-game-time="${q.game_time_iso}">${q.game_time}</span></span></div>`;if(q.week)J+=`<div class="data-row"><span class="month-label">Week:</span> <span class="month-value">${q.week}</span></div>`;if(Object.keys(q).filter((X)=>X.endsWith("_win_odds")).forEach((X)=>{let W=X.replace("_win_odds","").toUpperCase();J+=`<div class="data-row"><span class="month-label">${W} Win:</span> <span class="month-value">${q[X]}</span></div>`}),q.total_points)J+=`<div class="data-row"><span class="month-label">Total:</span> <span class="month-value">${q.total_points}</span></div>`}else if(q.name==="Total Nonfarm Employment"||q.name==="Job Openings"){let X={};R(q).forEach((W)=>X[W.month]=W),Q.forEach((W,K)=>{let A=q[W];if(A){let P=X[W],F=P?`<span class="month-change ${P.change>=0?"change-positive":"change-negative"}" style="margin-left:8px; font-weight:600;">${P.formatted}</span>`:"";J+=`<div class="data-row"><span class="month-label">${G[K]}:</span><span class="month-value">${A}${F}</span></div>`}})}else if(q.name==="CPI"){let X={march:"2.4%",april:"2.3%",may:"2.4%",june:"2.7%",july:"2.7%",august:"2.9%",september:"3.0%"};Q.forEach((W,K)=>{let A=q[W];if(A){let P=X[W]?`<span class="month-change" style="margin-left:8px; font-weight:600;">${X[W]}</span>`:"";J+=`<div class="data-row"><span class="month-label">${G[K]}:</span><span class="month-value">${A}${P}</span></div>`}})}else Q.forEach((X,W)=>{let K=q[X];if(K)J+=`<div class="data-row"><span class="month-label">${G[W]}:</span><span class="month-value">${K}</span></div>`});let Z=q.url||"#",$=q.explanation||"",_="";if(U!==null){let X=O(U.percentChange),W=`MoM: ${X}`;if(["Private Employment","Total Nonfarm Employment","Job Openings"].includes(q.name)){let P=U.numberChange;W+=` (${P>=0?"+":""}${P.toLocaleString()})`}let K=U.numberChange>=0?'<i data-lucide="arrow-up-right"></i>':'<i data-lucide="arrow-down-right"></i>',A=q.name==="Total Nonfarm Employment"?"Latest monthly change in nonfarm payroll employment":"Month-over-Month (MoM) change calculated from available data.";_+=`<div class="change-indicator ${j(X)}" title="${A}"><span class="arrow-icon">${K}</span> ${W}</div>`}return`
        <div class="indicator" data-indicator-name="${q.name.replace(/"/g,"&quot;")}">
            <div class="indicator-name">
                ${q.name}
                ${$?`<i data-lucide="info" class="info-icon" data-explanation="${$.replace(/"/g,"&quot;")}" title="Show explanation"></i>`:""}
                ${q.category!=="Prediction Markets"?'<i data-lucide="bar-chart-3" class="chart-icon" title="View Interactive Chart"></i>':""}
            </div>
            <div class="indicator-agency">
                Source: <a href="${Z}" target="_blank" rel="noopener noreferrer" style="color: var(--text-muted); text-decoration: underline;">${q.agency}</a>
                ${q.category==="Prediction Markets"&&q.kalshi_url?` | <a href="${q.kalshi_url}" target="_blank" rel="noopener noreferrer" style="color: var(--text-muted); text-decoration: underline;">Kalshi</a>`:""}
                ${q.category==="Prediction Markets"&&q.polymarket_url?` | <a href="${q.polymarket_url}" target="_blank" rel="noopener noreferrer" style="color: var(--text-muted); text-decoration: underline;">Polymarket</a>`:""}
            </div>
            ${J}
            <div class="change-indicators">${_}</div>
            <div class="explanation-text" style="display: none; margin-top: 8px; padding: 8px; background: var(--bg-secondary, #f5f5f5); border-radius: 4px; font-size: 0.9em; color: var(--text-secondary, #666);"></div>
        </div>
    `}var H={"Employment Indicators":'<i data-lucide="users" class="filter-icon"></i>',"Housing Market":'<i data-lucide="home" class="filter-icon"></i>',"Business Indicators":'<i data-lucide="briefcase" class="filter-icon"></i>',"Consumer Indicators":'<i data-lucide="shopping-cart" class="filter-icon"></i>',"Trade & Tariffs":'<i data-lucide="ship" class="filter-icon"></i>',Government:'<i data-lucide="landmark" class="filter-icon"></i>',Commodities:'<i data-lucide="package" class="filter-icon"></i>',"Prediction Markets":'<i data-lucide="trending-up" class="filter-icon"></i>',"Financial Markets":'<i data-lucide="bar-chart-2" class="filter-icon"></i>'};function N(){document.querySelectorAll(".info-icon").forEach((q)=>{q.addEventListener("click",function(Q){Q.preventDefault(),Q.stopPropagation();let J=this.closest(".indicator").querySelector(".explanation-text"),U=this.dataset.explanation;if(J.style.display==="none")J.textContent=U,J.style.display="block",this.style.color="var(--primary-color, #2C5F5A)";else J.style.display="none",this.style.color="var(--text-muted)"})})}function k(q="all"){let Q=document.getElementById("categories"),G=[...new Set(E.indices.map((U)=>U.category))],J="";if(G.forEach((U)=>{if(q!=="all"&&U!==q)return;let Z=E.indices.filter((_)=>_.category===U),$=H[U]||'<i data-lucide="bar-chart-2"></i>';J+=`
            <div class="category" data-category="${U}">
                <h2 class="category-title">
                    <span class="category-icon">${$}</span>
                    <span class="category-name">${U}</span>
                </h2>
                <div class="indicators-grid">
                    ${Z.map((_)=>D(_)).join("")}
                </div>
            </div>
        `}),Q.innerHTML=J,typeof lucide<"u")lucide.createIcons();if(N(),x(),typeof updateAllCountdowns==="function")updateAllCountdowns()}function I(){let q=document.getElementById("filters"),Q=[...new Set(E.indices.map((J)=>J.category))];q.innerHTML="";let G=document.createElement("button");if(G.className="filter-btn active",G.dataset.category="all",G.innerHTML='<i data-lucide="list" class="filter-icon"></i><span class="filter-text">All</span>',q.appendChild(G),Q.forEach((J)=>{let U=document.createElement("button");U.className="filter-btn";let Z=H[J]||'<i data-lucide="bar-chart-2"></i>';U.innerHTML=`<span class="filter-icon">${Z}</span><span class="filter-text">${J}</span>`,U.dataset.category=J,q.appendChild(U)}),q.addEventListener("click",function(J){let U=J.target.closest(".filter-btn");if(U)document.querySelectorAll(".filter-btn").forEach((Z)=>Z.classList.remove("active")),U.classList.add("active"),k(U.dataset.category)}),typeof lucide<"u")lucide.createIcons()}function w(){document.getElementById("lastUpdated").textContent=`Last Updated: ${S(E.lastUpdated)}`,I();let Q=new URLSearchParams(window.location.search).get("filter")||"all";document.querySelectorAll(".filter-btn").forEach((G)=>{if(G.dataset.category===Q)G.classList.add("active");else G.classList.remove("active")}),k(Q),y()}function x(){document.querySelectorAll(".chart-icon").forEach((q)=>{q.addEventListener("click",function(Q){Q.preventDefault(),Q.stopPropagation();let G=this.closest(".indicator"),J=G.dataset.indicatorName;V(G,J)})})}function V(q,Q){let G=q.querySelector(".chart-overlay");if(G)if(G.classList.contains("show"))z(G);else B(q,Q,G);else f(q,Q)}function f(q,Q){let G=document.createElement("div");G.className="chart-overlay",G.innerHTML=`
        <div class="chart-overlay-header">
            <h4 class="chart-overlay-title">
                <i data-lucide="bar-chart-3"></i>
                ${Q}
            </h4>
            <button class="chart-overlay-close">&times;</button>
        </div>
        <div class="chart-overlay-body">
            <div class="chart-overlay-loading">
                <div class="chart-overlay-loading-spinner"></div>
                <span>Loading chart...</span>
            </div>
        </div>
    `,q.appendChild(G),G.querySelector(".chart-overlay-close").addEventListener("click",(U)=>{U.preventDefault(),U.stopPropagation(),z(G)}),G.addEventListener("click",(U)=>{if(U.target===G)z(G)}),B(q,Q,G)}function B(q,Q,G){document.querySelectorAll(".chart-overlay.show").forEach((U)=>{if(U!==G)z(U)}),G.classList.add("show"),p(q,Q,G);let J=q.querySelector(".chart-icon");if(J)J.classList.add("active")}function z(q){q.classList.remove("show");let G=q.closest(".indicator").querySelector(".chart-icon");if(G)G.classList.remove("active");setTimeout(()=>{if(q.parentNode&&!q.classList.contains("show"))q.parentNode.removeChild(q)},300)}async function p(q,Q,G){let J=G.querySelector(".chart-overlay-body");try{let U=await C(Q);if(U&&U.data){let Z=J.querySelector(".chart-overlay-loading");if(Z)Z.remove();let $=document.createElement("canvas");$.className="chart-overlay-canvas",$.id=`overlay-${Q.replace(/\s+/g,"-").toLowerCase()}-chart`,J.appendChild($);let _=b(U,$);if(_)G._chartInstance=_}else T(J,"Chart data not available")}catch(U){console.error("Error loading chart in overlay:",U),T(J,"Error loading chart")}}function T(q,Q){let G=q.querySelector(".chart-overlay-loading");if(G)G.remove();q.innerHTML=`<div class="chart-overlay-error"><div class="chart-overlay-error-icon">\uD83D\uDCCA</div><p>${Q}</p></div>`}function b(q,Q){if(!q.data)return null;let G=Q.getContext("2d");if(window[Q.id+"Chart"])window[Q.id+"Chart"].destroy();let J=new Chart(G,{type:"line",data:q.data,options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:5,right:5,bottom:5,left:5}},animation:{duration:600,easing:"easeInOutQuart"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#2C5F5A",borderWidth:1,padding:8,titleFont:{size:11},bodyFont:{size:11},boxPadding:4,callbacks:{label:function(U){let Z=U.dataset.label||"";if(Z)Z+=": ";if(U.parsed.y!==null)Z+=new Intl.NumberFormat("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}).format(U.parsed.y);return Z}}}},scales:{x:{display:!0,grid:{display:!1,drawBorder:!1},ticks:{maxRotation:0,autoSkip:!0,maxTicksLimit:4,padding:2,font:{size:9}}},y:{display:!0,beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.03)",drawBorder:!1},ticks:{padding:2,font:{size:9},callback:function(U){if(U>=1000)return(U/1000).toFixed(1)+"K";return U.toLocaleString()}},position:"right"}},interaction:{mode:"nearest",axis:"x",intersect:!1}}});return window[Q.id+"Chart"]=J,J}function C(q){let Q=E.indices.find((_)=>_.name.trim().toLowerCase()===q.trim().toLowerCase());if(!Q)return null;let G=["march","april","may","june","july","august","september","october","november","december"],J=["Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],U=[],Z=[];return G.forEach((_,X)=>{let W=Q[_];if(W&&W!==""&&!W.startsWith("TBD")){let K=Y(W);if(K!==null)U.push(J[X]),Z.push(K)}}),{type:"chartjs",data:{labels:U,datasets:[{label:q,data:Z,borderColor:"#2C5F5A",backgroundColor:"rgba(44, 95, 90, 0.1)",tension:0.4,fill:!0}]}}}function y(){let q=document.getElementById("chartModal");if(!q)return;let Q=document.getElementById("closeChartModal");if(Q)Q.addEventListener("click",()=>{q.style.display="none"});q.addEventListener("click",(G)=>{if(G.target===q)q.style.display="none"}),document.addEventListener("keydown",(G)=>{if(G.key==="Escape"&&q.style.display==="block")q.style.display="none"})}document.addEventListener("DOMContentLoaded",function(){if(L(),typeof lucide<"u")lucide.createIcons()});

//# debugId=C200BE5C3F68567E64756E2164756E21
