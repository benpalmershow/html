function u(e){let t=/https?:\/\/[^\s]+/g;return e.replace(t,(a)=>`<a href="${a}" target="_blank" rel="noopener noreferrer">${a}</a>`)}var m=document.querySelector('meta[name="last-commit"]')&&document.querySelector('meta[name="last-commit"]').getAttribute("content")||Date.now();fetch(`/json/journal.json?v=${encodeURIComponent(m)}`).then((e)=>{if(!e.ok)throw Error(`Failed to load journal entries: ${e.status} ${e.statusText}`);return e.json()}).then((e)=>{if(!Array.isArray(e))throw Error("Journal data is not an array");e.sort((r,o)=>{let n=s(r.date);return s(o.date)-n});let t=document.getElementById("journal-feed");if(!t)throw Error("Journal feed element not found");let a=e.map((r)=>{if(!r||!r.date)return console.warn("Invalid journal entry - missing date:",r),"";if(!r.entries||!Array.isArray(r.entries))return console.warn("Invalid journal entry - missing or invalid entries:",r),"";let o=r.entries.map((n)=>{if(!n||typeof n.title!=="string"||typeof n.content!=="string")return console.warn("Invalid entry:",n),"";return`<div id="${n.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}" class="entry"><div class="entry-title">${n.title}</div><div class="entry-content">${n.content.includes("<")?n.content:u(n.content)}</div></div>`}).join("");return`<article class="journal-entry"><div class="card-title"><time datetime="${g(r.date)}">${f(r.date)}</time></div><div class="content">${o}</div></article>`}).join("");t.innerHTML=a}).catch((e)=>{console.error("Error loading journal entries:",e);let t=document.getElementById("journal-feed");if(t)t.innerHTML='<div class="error-state">Error loading journal entries. Please try again later.</div>'});function s(e){try{if(!e||typeof e!=="string")return console.error("Invalid date string:",e),new Date(0);let t=e.split("/");if(t.length!==3)return console.error("Date string format invalid:",e),new Date(0);let[a,r,o]=t,n=o.length===2?`20${o}`:o,i=parseInt(a,10),c=parseInt(r,10),l=parseInt(n,10);if(isNaN(i)||isNaN(c)||isNaN(l))return console.error("Date parts could not be parsed:",{month:a,day:r,year:o}),new Date(0);let d=new Date(l,i-1,c);if(isNaN(d.getTime()))return console.error("Invalid date created:",e),new Date(0);return d}catch(t){return console.error("Error parsing date:",e,t),new Date(0)}}function f(e){try{let t=s(e);if(isNaN(t.getTime())||t.getTime()===0)return console.warn("Using original date string due to parsing failure:",e),e;return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(t){return console.error("Error formatting date:",e,t),e}}function g(e){try{let t=s(e);if(isNaN(t.getTime())||t.getTime()===0)return console.warn("Using original date string for datetime attribute:",e),e;return t.toISOString().split("T")[0]}catch(t){return console.error("Error formatting datetime:",e,t),e}}

//# debugId=2CBD04B3D767439564756E2164756E21
