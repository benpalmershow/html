{
  "version": 3,
  "sources": ["../../js/news.js"],
  "sourcesContent": [
    "(function() {\n    // List of all articles (add new articles here) - v2\n    const ARTICLES = [\n    'oversight-committee-report',\n    'urban_crime_2020',\n    'chiles-v-salazar',\n    'barrett_v_us',\n    'reddit-q2-2025-earnings',\n    'navan-ipo',\n    'vaccine-policy',\n    'military-drones',\n    'healthcare-costs',\n    'okta-q2-2026',\n    'aaup-rubio',\n    'fiber-supplement',\n    'trump-v-casa',\n    'figma-ipo',\n    'ceqa-reforms',\n      'bullish-ipo',\n    'peloton-stock',\n      'local-bounti-q2-2025',\n      'scotus-oct-2025',\n      'airo-ipo',\n      'robinhood-q2-2025',\n      'boston-public-market',\n      'circle-ipo',\n      'big-beautiful-bill',\n      'corrections-hood-twlo',\n      'sustainable-abundance',\n      'oregon-kei-trucks-sb1213',\n       'doc-riter-trump-interview',\n       'scotus-nov-2025',\n       'trump-v-vos-selections',\n       'trump-v-vos-update',\n       'trump-v-vos-sauer'\n    ];\n\n    // Parse frontmatter from markdown\n    function parseFrontmatter(markdown) {\n      const match = markdown.match(/^---\\n([\\s\\S]*?)\\n---\\n([\\s\\S]*)$/);\n      if (!match) return { metadata: {}, content: markdown };\n      \n      const [, frontmatter, content] = match;\n      const metadata = {};\n      \n      frontmatter.split('\\n').forEach(line => {\n        const colonIndex = line.indexOf(':');\n        if (colonIndex > -1) {\n          const key = line.substring(0, colonIndex).trim();\n          let value = line.substring(colonIndex + 1).trim();\n          if (value.startsWith('\"') && value.endsWith('\"')) {\n            value = value.slice(1, -1);\n          }\n          metadata[key] = value;\n        }\n      });\n      \n      return { metadata, content };\n    }\n\n    \n\n    // Load article from markdown file\n    async function loadArticle(filename) {\n      try {\n        const response = await fetch(`article/${filename}.md`);\n        if (!response.ok) throw new Error('Article not found');\n\n        const markdown = await response.text();\n        const { metadata, content } = parseFrontmatter(markdown);\n\n        // Convert markdown to HTML using marked.js\n        const html = marked.parse(content);\n\n        return { metadata, html };\n      } catch (error) {\n        console.error('Error loading article:', error);\n        return null;\n      }\n    }\n\n    // Render article card (accordion style)\n    function renderArticleCard(article) {\n\n    return `\n    <div class=\"accordion-card\" data-category=\"${article.category}\">\n    <div class=\"accordion-header\">\n    <div class=\"accordion-title-section\">\n    <button class=\"filter-badge ${article.category}\" aria-label=\"${article.category} category\">\n    <i data-lucide=\"${getCategoryIcon(article.category)}\" class=\"filter-icon\"></i>\n    </button>\n    <h2 class=\"accordion-title\">\n    ${article.title}\n    </h2>\n    </div>\n\n    <div class=\"accordion-meta\">\n    <i data-lucide=\"chevron-down\" class=\"expand-icon\" aria-label=\"Expand article details\"></i>\n    </div>\n    </div>\n\n      <div class=\"accordion-content\">\n      <div class=\"accordion-expanded-header\">\n      <time class=\"accordion-expanded-date\" datetime=\"${article.date}\">${formatDate(article.date)}</time>\n      </div>\n        <div class=\"accordion-full-preview\">\n        <p>${article.summary}</p>\n      </div>\n\n      <div class=\"accordion-full-actions\">\n      <a href=\"?article=${article.id}\" class=\"read-full-btn primary\">\n          <span>Read Full Article</span>\n            <i data-lucide=\"arrow-right\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n    `;\n    }\n\n    // Get category icon (matches filter button icons)\n    function getCategoryIcon(category) {\n      const icons = {\n        'ipo': 'trending-up',\n        'earnings': 'bar-chart-3',\n        'policy': 'shield',\n        'healthcare': 'heart',\n        'legal': 'gavel',\n        'political': 'vote',\n        'corrections': 'edit-3'\n      };\n      return icons[category] || 'file-text';\n    }\n\n    // Render full article view\n    async function renderFullArticle(articleId) {\n    const feedView = document.getElementById('news-feed-view');\n    const articleView = document.getElementById('full-article-view');\n    const container = document.getElementById('article-container');\n\n    feedView.style.display = 'none';\n    articleView.style.display = 'block';\n\n    container.innerHTML = '<div class=\"loading\">Loading article...</div>';\n\n    // Load article\n    const article = await loadArticle(articleId);\n\n    if (!article) {\n    container.innerHTML = '<div class=\"error-message\">Article not found. <a href=\"news.html\">Return to news feed</a></div>';\n    return;\n    }\n\n    // Article content is processed as-is without price replacements\n    let processedHtml = article.html;\n\n    container.innerHTML = `\n    ${processedHtml}\n    `;\n\n    // Execute scripts in the article content\n    const scripts = container.querySelectorAll('script');\n    scripts.forEach(script => {\n    const newScript = document.createElement('script');\n      if (script.src) {\n        newScript.src = script.src;\n        newScript.async = false; // Ensure scripts run in order\n        document.head.appendChild(newScript);\n      } else {\n        newScript.textContent = script.textContent;\n        document.head.appendChild(newScript);\n      }\n      script.remove(); // Remove the original script tag\n    });\n\n    const backButton = document.querySelector('.back-button');\n    let metaEl = backButton.nextElementSibling;\n    if (metaEl && metaEl.classList.contains('article-meta-header')) {\n    metaEl.remove();\n    }\n    metaEl = document.createElement('div');\n    metaEl.classList.add('article-meta-header');\n    metaEl.style.display = 'flex';\n    metaEl.style.alignItems = 'center';\n    metaEl.style.gap = '10px';\n    metaEl.style.fontSize = '0.9em';\n    metaEl.style.color = '#888';\n    metaEl.style.marginBottom = '10px';\n    let metaHtml = `<span>${formatDate(article.metadata.date)}</span>`;\n      if (article.metadata.ticker) {\n        metaHtml += `<span><strong>Ticker:</strong> <a href=\"https://www.perplexity.ai/finance/${article.metadata.ticker}\" target=\"_blank\">${article.metadata.ticker}</a></span>`;\n      }\n      metaHtml += `<span class=\"category-badge ${article.metadata.category}\">${article.metadata.category}</span>`;\n      metaEl.innerHTML = metaHtml;\n      backButton.insertAdjacentElement('afterend', metaEl);\n\n      // Reinitialize Lucide icons\n      lucide.createIcons();\n    }\n\n    // Render news feed\n    async function renderNewsFeed() {\n      const feedView = document.getElementById('news-feed-view');\n      const articleView = document.getElementById('full-article-view');\n      const container = document.getElementById('articles-container');\n\n      feedView.style.display = 'block';\n      articleView.style.display = 'none';\n\n      // Load metadata for each article\n      const articles = await Promise.all(\n        ARTICLES.map(async (id) => {\n          const article = await loadArticle(id);\n          if (!article) return null;\n          return {\n            id,\n            ...article.metadata\n          };\n        })\n      );\n\n      // Filter out failed loads and sort by date (newest first)\n      const validArticles = articles\n        .filter(a => a !== null)\n        .sort((a, b) => new Date(b.date) - new Date(a.date));\n\n      if (validArticles.length === 0) {\n        container.innerHTML = '<div class=\"error-message\">No articles found. Please check that your markdown files are in the article/ folder.</div>';\n        return;\n      }\n\n      // Render cards\n      container.innerHTML = validArticles.map(renderArticleCard).join('');\n\n      // Reinitialize Lucide icons\n      lucide.createIcons();\n\n      // Setup accordion functionality\n      setupAccordion();\n    }\n\n    // Setup accordion expand/collapse functionality with performance optimizations\n    function setupAccordion() {\n      // Use event delegation for better performance\n      const container = document.querySelector('.content');\n      if (!container) return;\n\n      // Remove existing listeners to prevent accumulation\n      const existingHandler = container._accordionHandler;\n      if (existingHandler) {\n        container.removeEventListener('click', existingHandler);\n      }\n\n      // Create single event handler for all accordion interactions\n      const handleAccordionClick = function(e) {\n        const header = e.target.closest('.accordion-header');\n        if (!header) return;\n\n        // Don't expand if clicking on filter badge\n        if (e.target.closest('.filter-badge')) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const card = header.closest('.accordion-card');\n        const content = card.querySelector('.accordion-content');\n        const icon = header.querySelector('.expand-icon');\n\n        // Use requestAnimationFrame for smoother animations\n        requestAnimationFrame(() => {\n          // Close other expanded cards\n          document.querySelectorAll('.accordion-card.expanded').forEach(expandedCard => {\n            if (expandedCard !== card) {\n              const expandedContent = expandedCard.querySelector('.accordion-content');\n              const expandedIcon = expandedCard.querySelector('.expand-icon');\n\n              expandedCard.classList.remove('expanded');\n              expandedContent.style.maxHeight = '0';\n              expandedIcon.style.transform = 'rotate(0deg)';\n            }\n          });\n\n          // Toggle current card\n          const isExpanded = card.classList.contains('expanded');\n          card.classList.toggle('expanded');\n\n          if (isExpanded) {\n            content.style.maxHeight = '0';\n            icon.style.transform = 'rotate(0deg)';\n          } else {\n            // Use a small delay to ensure DOM has updated\n            setTimeout(() => {\n              content.style.maxHeight = content.scrollHeight + 'px';\n              icon.style.transform = 'rotate(180deg)';\n            }, 10);\n          }\n        });\n      };\n\n      // Store handler reference for cleanup\n      container._accordionHandler = handleAccordionClick;\n      container.addEventListener('click', handleAccordionClick);\n    }\n\n    // Format date\n    function formatDate(dateStr) {\n      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      const [year, month, day] = dateStr.split('-');\n      return `${months[parseInt(month) - 1]} ${parseInt(day)}, ${year}`;\n    }\n\n    // Router - check URL for article parameter\n    function initRouter() {\n      const urlParams = new URLSearchParams(window.location.search);\n      const articleId = urlParams.get('article');\n      \n      if (articleId) {\n        renderFullArticle(articleId);\n      } else {\n        renderNewsFeed();\n      }\n    }\n\n    // Category filter with performance optimizations\n    function initFilters() {\n      const filterContainer = document.querySelector('.filters');\n      if (!filterContainer) return;\n\n      // Use event delegation for better performance\n      const existingFilterHandler = filterContainer._filterHandler;\n      if (existingFilterHandler) {\n        filterContainer.removeEventListener('click', existingFilterHandler);\n      }\n\n      const handleFilterClick = function(e) {\n        const filterBtn = e.target.closest('.filter-btn');\n        if (!filterBtn) return;\n\n        e.preventDefault();\n\n        // Update active state\n        filterContainer.querySelectorAll('.filter-btn').forEach(btn => {\n          btn.classList.remove('active');\n        });\n        filterBtn.classList.add('active');\n\n        const category = filterBtn.dataset.category;\n\n        // Use requestAnimationFrame for smoother filtering\n        requestAnimationFrame(() => {\n          const cards = document.querySelectorAll('.accordion-card');\n          cards.forEach(card => {\n            const shouldShow = category === 'all' || card.dataset.category === category;\n            card.style.display = shouldShow ? '' : 'none';\n\n            // Close expanded cards when filtering\n            if (!shouldShow && card.classList.contains('expanded')) {\n              const content = card.querySelector('.accordion-content');\n              const icon = card.querySelector('.expand-icon');\n              card.classList.remove('expanded');\n              content.style.maxHeight = '0';\n              icon.style.transform = 'rotate(0deg)';\n            }\n          });\n        });\n      };\n\n      // Store handler reference for cleanup\n      filterContainer._filterHandler = handleFilterClick;\n      filterContainer.addEventListener('click', handleFilterClick);\n    }\n\n    // Initialize\n    document.addEventListener('DOMContentLoaded', () => {\n      initRouter();\n      initFilters();\n      lucide.createIcons();\n    });\n\n    // Handle browser back/forward\n    window.addEventListener('popstate', initRouter);\n\n})();\n\n\n"
  ],
  "mappings": "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",
  "debugId": "ED60557B6172A02964756E2164756E21",
  "names": []
}