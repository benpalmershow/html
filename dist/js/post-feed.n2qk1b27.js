document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById("post-feed");n.innerHTML='<div class="loading-state"><i class="fas fa-spinner fa-spin"></i>Loading posts...</div>';async function i(){try{let e=localStorage.getItem("posts-data-cache");if(e){let{data:a,timestamp:c}=JSON.parse(e);if(Date.now()-c<180000){s(a);return}}let t=document.querySelector('meta[name="last-commit"]')&&document.querySelector('meta[name="last-commit"]').getAttribute("content")||Date.now(),o=await fetch(`/json/posts.json?v=${encodeURIComponent(t)}`);if(!o.ok)if(o.status===404)throw Error("Posts data not found");else if(o.status>=500)throw Error("Server error occurred");else throw Error(`Failed to load posts(${o.status})`);let r=(await o.json()).filter((a)=>a&&a.date&&a.content);localStorage.setItem("posts-data-cache",JSON.stringify({data:r,timestamp:Date.now()})),s(r)}catch(e){console.error("Error loading posts:",e);let t="Error loading posts.";if(e.name==="TypeError")t+="Please check your internet connection.";else t+=e.message;n.innerHTML=`<div class="error-state"><i class="fas fa-exclamation-triangle"></i><p>${t}</p><button onclick="location.reload()" class="retry-button">Try Again</button></div>`}}function s(e){if(e.sort((t,o)=>new Date(o.date)-new Date(t.date)),n.innerHTML=e.map((t)=>`<article class="post-item" role="article"><div class="card-title"><time datetime="${t.date}">${t.date}</time></div><div class="content">${t.content}</div></article>`).join(""),window.lucide)lucide.createIcons()}i()});

//# debugId=4FA6903803C5B76264756E2164756E21
