<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="/_vercel/insights/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="/css/body.css">
  
    <title>Financials at a Glance | Howdy, Stranger</title>
    <meta name="description" content="Financial overview of SEZL, PAYS, and DAVE by HowdyStranger.">
  </head>
  <body>
    <header class="site-header">
      <div class="logo-container">
        <img src="images/logo.png" alt="Howdy Stranger" class="logo">
      </div>
    </header>
    <nav class="nav-links">
      <a class="nav-link" href="index.html">Home</a>
      <a class="nav-link" href="watch.html">üé•watch</a>
      <a class="nav-link" href="read.html">üìöread</a>
      <a class="nav-link" href="listen.html">üìªlisten</a>
    </nav>
    <h1>stonks</h1>
    <div class="content">
      <p id="timestamp">Updated as of 06:37 PM PDT, Thursday, May 22, 2025.</p>
      <p>Below is a snapshot of key financial metrics for selected companies.</p>
      
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Co.</th>
              <th>Rev</th>
              <th>Gross Marg</th>
              <th>EBITDA</th>
              <th>Net Inc</th>
              <th>Mkt Cap</th>
              <th>Cash</th>
              <th>Debt</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
      <div class="scroll-hint">‚Üê Scroll horizontally to view all columns ‚Üí</div>
      
      <p id="errorMessage" style="color: red; display: none;">Using static data on this device (optimized for iPhone and Android). Clear browser cache if table doesn't display correctly (Settings > Apps > Browser > Storage > Clear Data).</p>
      <p>Notes: Figures in $USD. YoY growth reflects prior year. Verify via ticker links to SEC filings.</p>
    </div>
    <script>
      // Static data from screenshot
      const staticData = {
        "SEZL": { revenue: 71000000, grossMargin: 30.3, ebitda: 82000000, netIncome: 7000000, marketCap: 3700000000, cash: 73000000, debt: 11000000 },
        "PAYS": { revenue: 58000000, grossMargin: 12.0, ebitda: 7000000, netIncome: 4000000, marketCap: 80000000, cash: 11000000, debt: 4900000 },
        "DAVE": { revenue: 347000000, grossMargin: 21.9, ebitda: 76000000, netIncome: 58000000, marketCap: 3300000000, cash: 50000000, debt: 16000000 }
      };

      function populateTable() {
        const companies = ["SEZL", "PAYS", "DAVE"];
        const tbody = document.getElementById("tableBody");
        const errorMessage = document.getElementById("errorMessage");
        const isIPhone = /iPhone/.test(navigator.userAgent);
        const isAndroid = /Android/.test(navigator.userAgent);

        if (isIPhone || isAndroid) {
          console.log(`${isIPhone ? 'iPhone' : 'Android'} detected, using static data.`);
          errorMessage.style.display = "block";
        }

        for (const ticker of companies) {
          const data = staticData[ticker];
          const row = tbody.insertRow();
          const cell0 = row.insertCell();
          cell0.innerHTML = `<a href="https://www.sec.gov/edgar/search/#/q=${ticker}" target="_blank">${ticker}</a>`;
          row.insertCell().textContent = data.revenue ? `$${Math.round(data.revenue / 1e6)}M` : '';
          row.insertCell().textContent = data.grossMargin !== null ? `${data.grossMargin}%` : '';
          row.insertCell().textContent = data.ebitda ? `$${Math.round(data.ebitda / 1e6)}M` : '';
          row.insertCell().textContent = data.netIncome ? `$${Math.round(data.netIncome / 1e6)}M` : '';
          row.insertCell().textContent = data.marketCap ? `$${Math.round(data.marketCap / 1e9)}B` : '';
          row.insertCell().textContent = data.cash ? `$${Math.round(data.cash / 1e6)}M` : '';
          row.insertCell().textContent = data.debt ? `$${Math.round(data.debt / 1e6)}M` : '';
          row.cells[1].className = "number";
          row.cells[2].className = "number";
          row.cells[3].className = "number";
          row.cells[4].className = "number";
          row.cells[5].className = "number";
          row.cells[6].className = "number";
          row.cells[7].className = "number";
        }

        const timestamp = document.getElementById("timestamp");
        timestamp.textContent = `Updated as of ${new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })}.`;
      }

      document.addEventListener("DOMContentLoaded", populateTable);
    </script>
    <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div>
<script type="text/javascript">
  new TradingView.MediumWidget({
    "container_id": "tradingview-widget-container__widget",
    "colorTheme": "light",
    "dateRange": "12M",
    "showChart": true,
    "locale": "en",
    "width": "100%",
    "height": "100%",
    "largeChartUrl": "",
    "isTransparent": false,
    "showSymbolLogo": true,
    "showFloatingTooltip": false,
    "plotLineColorGrowing": "rgba(41, 98, 255, 1)",
    "plotLineColorFalling": "rgba(41, 98, 255, 1)",
    "gridLineColor": "rgba(240, 243, 250, 0)",
    "scaleFontColor": "rgba(15, 15, 15, 1)",
    "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
    "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
    "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
    "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
    "symbolActiveColor": "rgba(41, 98, 255, 0.12)",
    "tabs": [
      {
        "title": "Indices",
        "symbols": [
          { "s": "FRED:UMCSENT", "d": "Consumer Sentiment  " },
          { "s": "ECONOMICS:USINTR", "d": "Interest Rates" },
          { "s": "FRED:UNRATE", "d": "Unemployment" },
          { "s": "FRED:MORTGAGE30US", "d": "30yr Fixed" },
          { "s": "ECONOMICS:USCPI", "d": "CPI" },
          { "s": "TVC:US10Y", "d": "10 Year" },
          { "s": "ECONOMICS:USNHS", "d": "New Home Sales" },
          { "s": "FRED:FIXHAI", "d": "Housing Affordability Index" }
        ],
        "originalTitle": "Indices"
      },
      {
        "title": "Forex",
        "symbols": [
          { "s": "FX:EURUSD", "d": "EUR to USD" },
          { "s": "FX:GBPUSD", "d": "GBP to USD" },
          { "s": "FX:USDJPY", "d": "USD to JPY" },
          { "s": "FX:USDCHF", "d": "USD to CHF" },
          { "s": "FX:AUDUSD", "d": "AUD to USD" },
          { "s": "FX:USDCAD", "d": "USD to CAD" }
        ],
        "originalTitle": "Forex"
      },
      {
        "title": "Futures",
        "symbols": [
          { "s": "BMFBOVESPA:ISP1!", "d": "S&P 500 Index Futures" },
          { "s": "BMFBOVESPA:EUR1!", "d": "Euro Futures" },
          { "s": "PYTH:WTI3!", "d": "WTI CRUDE OIL" },
          { "s": "BMFBOVESPA:ETH1!", "d": "Hydrous ethanol" },
          { "s": "BMFBOVESPA:CCM1!", "d": "Corn" }
        ],
        "originalTitle": "Futures"
      },
      {
        "title": "Bonds",
        "symbols": [
          { "s": "EUREX:FGBL1!", "d": "Euro Bund" },
          { "s": "EUREX:FBTP1!", "d": "Euro BTP" },
          { "s": "EUREX:FGBM1!", "d": "Euro BOBL" }
        ],
        "originalTitle": "Bonds"
      }
    ]
  });
</script>
<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async></script>
</div>
<script>
  // Fetch data from external JSON file
  fetch('financials-data.json')
    .then(response => response.json())
    .then(data => {
      window.staticData = data;
      // Re-populate table with fetched data
      document.getElementById("tableBody").innerHTML = "";
      populateTable();
    })
    .catch(err => {
      console.warn("Could not load external data, using built-in staticData.");
    });
</script>
<!-- TradingView Widget END -->
  </body>
</html>