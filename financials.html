<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="/_vercel/insights/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="/css/body.css">
    <title>Financials at a Glance | Howdy, Stranger</title>
    <meta name="description" content="Financial overview of SEZL, PAYS, and DAVE by HowdyStranger.">
    <style>
      /* Mobile-first responsive design */
      
      /* Navigation adjustments (retained as requested) */
      .nav-links {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
        padding: 0.5rem 0;
      }
      
      .nav-link {
        padding: 0.4rem 0.8rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        text-decoration: none;
        font-size: 0.85rem;
        white-space: nowrap;
        flex: 1;
        text-align: center;
        min-width: fit-content;
      }
      
      /* Content container */
      .content {
        padding: 0 0.75rem;
        max-width: 100vw;
        overflow-x: hidden;
      }
      
      h1 {
        font-size: 1.4rem;
        margin-bottom: 0.5rem;
        line-height: 1.2;
      }
      
      #timestamp {
        font-size: 0.75rem;
        color: #666;
        margin-bottom: 1rem;
        line-height: 1.3;
      }
      
      /* Table responsive design */
      .table-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        margin: 1rem 0;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: white;
      }
      
      table {
        width: 100%;
        min-width: 620px;
        border-collapse: collapse;
        margin: 0;
        font-size: 0.8rem;
        table-layout: fixed;
      }
      
      th, td {
        padding: 0.4rem 0.25rem;
        text-align: left;
        border-bottom: 1px solid #eee;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      th {
        background-color: #f8f9fa;
        font-weight: bold;
        font-size: 0.75rem;
        position: sticky;
        top: 0;
        z-index: 10;
      }
      
      /* First column (company names) sticky */
      th:first-child,
      td:first-child {
        position: sticky;
        left: 0;
        background-color: inherit;
        z-index: 5;
        box-shadow: 2px 0 3px -1px rgba(0,0,0,0.1);
        min-width: 60px;
        width: 60px;
      }
      
      th:first-child {
        z-index: 15;
        background-color: #f8f9fa;
      }
      
      /* Number alignment */
      .number {
        text-align: right;
      }
      
      /* Links styling */
      td a {
        color: #0066cc;
        text-decoration: none;
        font-weight: bold;
      }
      
      td a:hover {
        text-decoration: underline;
      }
      
      /* Scroll hint */
      .scroll-hint {
        font-size: 0.7rem;
        color: #666;
        text-align: center;
        margin: 0.5rem 0;
        font-style: italic;
      }
      
      /* Error message styling */
      #errorMessage {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 4px;
        padding: 0.75rem;
        margin: 1rem 0;
        font-size: 0.8rem;
        color: #856404;
        line-height: 1.4;
      }
      
      /* Very small screens - stack navigation vertically */
      @media (max-width: 380px) {
        .nav-links {
          flex-direction: column;
        }
        
        .nav-link {
          flex: none;
        }
        
        h1 {
          font-size: 1.2rem;
        }
        
        table {
          min-width: 560px;
          font-size: 0.75rem;
        }
        
        th, td {
          padding: 0.3rem 0.2rem;
        }
        
        th {
          font-size: 0.7rem;
        }
      }
      
      /* iPhone-specific adjustments (portrait, e.g., 375px) */
      @media only screen and (max-width: 400px) and (max-device-width: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait) {
        table {
          min-width: 500px; /* Reduced to fit better */
          font-size: 0.65rem; /* Smaller base font */
        }
        th, td {
          min-width: 10px; /* Narrower columns */
          font-size: 0.25rem; /* Even smaller font to prevent overlap */
          padding: 0.003rem 0.008rem; /* Minimal padding */
          white-space: nowrap;
          line-height: 1.2; /* Adjusted for readability */
          letter-spacing: -0.015rem; /* Fine-tuned spacing */
        }
        th:first-child,
        td:first-child {
          min-width: 40px; /* Reduced sticky column width */
          width: 40px;
        }
      }
      
      /* Android-specific adjustments (e.g., 360px to 412px, pixel ratios 2 to 4) */
      @media only screen and (max-width: 412px) and (min-device-pixel-ratio: 2) and (max-device-pixel-ratio: 4) and (hover: none) {
        table {
          min-width: 520px;
          font-size: 0.7rem;
        }
        th, td {
          min-width: 12px;
          font-size: 0.32rem;
          padding: 0.008rem 0.015rem;
          white-space: nowrap;
          line-height: 1;
        }
      }
      
      /* Medium screens */
      @media (min-width: 768px) {
        .content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 1.5rem;
        }
        
        h1 {
          font-size: 1.8rem;
        }
        
        #timestamp {
          font-size: 0.85rem;
        }
        
        table {
          min-width: auto;
          font-size: 0.9rem;
        }
        
        th, td {
          padding: 0.6rem 0.5rem;
        }
        
        th {
          font-size: 0.85rem;
        }
        
        th:first-child,
        td:first-child {
          position: static;
          box-shadow: none;
        }
        
        .scroll-hint {
          display: none;
        }
      }
      
      /* Large screens */
      @media (min-width: 1024px) {
        table {
          font-size: 0.95rem;
        }
        
        th, td {
          padding: 0.75rem;
        }
        
        th {
          font-size: 0.9rem;
        }
      }
      
      /* Improve touch targets on mobile */
      @media (hover: none) and (pointer: coarse) {
        .nav-link {
          min-height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        td a {
          min-height: 44px;
          display: inline-flex;
          align-items: center;
          padding: 0.5rem;
          margin: -0.5rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="nav-links">
      <a class="nav-link" href="index.html">Home</a>
      <a class="nav-link" href="watch.html">üé•watch</a>
      <a class="nav-link" href="read.html">üìöread</a>
      <a class="nav-link" href="listen.html">üìªlisten</a>
    </nav>
    <div class="content">
      <h1>stonks</h1>
      <p id="timestamp">Updated as of 06:37 PM PDT, Thursday, May 22, 2025.</p>
      <p>Below is a snapshot of key financial metrics for selected companies.</p>
      
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Co.</th>
              <th>Rev</th>
              <th>Gross Marg</th>
              <th>EBITDA</th>
              <th>Net Inc</th>
              <th>Mkt Cap</th>
              <th>Cash</th>
              <th>Debt</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
      <div class="scroll-hint">‚Üê Scroll horizontally to view all columns ‚Üí</div>
      
      <p id="errorMessage" style="color: red; display: none;">Using static data on this device (optimized for iPhone and Android). Clear browser cache if table doesn't display correctly (Settings > Apps > Browser > Storage > Clear Data).</p>
      <p>Notes: Figures in $USD. YoY growth reflects prior year. Verify via ticker links to SEC filings.</p>
    </div>
    <script>
      // Static data from screenshot
      const staticData = {
        "SEZL": { revenue: 71000000, grossMargin: 30.3, ebitda: 82000000, netIncome: 7000000, marketCap: 3700000000, cash: 73000000, debt: 11000000 },
        "PAYS": { revenue: 58000000, grossMargin: 12.0, ebitda: 7000000, netIncome: 4000000, marketCap: 80000000, cash: 11000000, debt: 4900000 },
        "DAVE": { revenue: 347000000, grossMargin: 21.9, ebitda: 76000000, netIncome: 58000000, marketCap: 3300000000, cash: 50000000, debt: 16000000 }
      };

      function populateTable() {
        const companies = ["SEZL", "PAYS", "DAVE"];
        const tbody = document.getElementById("tableBody");
        const errorMessage = document.getElementById("errorMessage");
        const isIPhone = /iPhone/.test(navigator.userAgent);
        const isAndroid = /Android/.test(navigator.userAgent);

        if (isIPhone || isAndroid) {
          console.log(`${isIPhone ? 'iPhone' : 'Android'} detected, using static data.`);
          errorMessage.style.display = "block";
        }

        for (const ticker of companies) {
          const data = staticData[ticker];
          const row = tbody.insertRow();
          const cell0 = row.insertCell();
          cell0.innerHTML = `<a href="https://www.sec.gov/edgar/search/#/q=${ticker}" target="_blank">${ticker}</a>`;
          row.insertCell().textContent = data.revenue ? `$${Math.round(data.revenue / 1e6)}M` : '';
          row.insertCell().textContent = data.grossMargin !== null ? `${data.grossMargin}%` : '';
          row.insertCell().textContent = data.ebitda ? `$${Math.round(data.ebitda / 1e6)}M` : '';
          row.insertCell().textContent = data.netIncome ? `$${Math.round(data.netIncome / 1e6)}M` : '';
          row.insertCell().textContent = data.marketCap ? `$${Math.round(data.marketCap / 1e9)}B` : '';
          row.insertCell().textContent = data.cash ? `$${Math.round(data.cash / 1e6)}M` : '';
          row.insertCell().textContent = data.debt ? `$${Math.round(data.debt / 1e6)}M` : '';
          row.cells[1].className = "number";
          row.cells[2].className = "number";
          row.cells[3].className = "number";
          row.cells[4].className = "number";
          row.cells[5].className = "number";
          row.cells[6].className = "number";
          row.cells[7].className = "number";
        }

        const timestamp = document.getElementById("timestamp");
        timestamp.textContent = `Updated as of ${new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })}.`;
      }

      document.addEventListener("DOMContentLoaded", populateTable);
    </script>
  </body>
</html>