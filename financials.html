<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) - Deferred for performance -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-DWEVPGLJDP', {
      'anonymize_ip': true,
      'cookie_flags': 'SameSite=None;Secure'
    });

    window.addEventListener('load', function () {
      const script = document.createElement('script');
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-DWEVPGLJDP';
      script.async = true;
      document.head.appendChild(script);
    });
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Financials - Howdy, Stranger</title>
  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/webp" sizes="32x32" href="images/favicon-32x32.webp">
  <link rel="icon" type="image/webp" sizes="16x16" href="images/favicon-16x16.webp">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.webp">
  <link rel="manifest" href="site.webmanifest">
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <meta name="theme-color" content="#1a1f1e">

  <link rel="stylesheet" href="css/body.css?v=20251117">
  <link rel="stylesheet" href="css/nav.css?v=20251117">
  <link rel="stylesheet" href="css/financials.css?v=20251117">
  <link rel="preload" href="js/financials.js" as="script" crossorigin="anonymous">
  <link rel="preload" href="js/nav.js" as="script">
  <link rel="preload" href="js/countdown.js" as="script">


  <script>
    // Only load Vercel scripts in production
    if (typeof window !== 'undefined' && window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
      const script = document.createElement('script');
      script.src = '/_vercel/insights/script.js';
      script.defer = true;
      document.head.appendChild(script);
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/lucide@0.400.0/dist/umd/lucide.js" defer></script>

  <!-- Chart.js for interactive charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

  <!-- Infogram Embed Script -->
  <script>
    ! function (e, n, i, s) {
      var d = "InfogramEmbeds";
      var o = e.getElementsByTagName(n)[0];
      if (window[d] && window[d].initialized)
        window[d].process && window[d].process();
      else if (!e.getElementById(i)) {
        var r = e.createElement(n);
        r.async = 1,
          r.id = i,
          r.src = s,
          o.parentNode.insertBefore(r, o)
      }
    }(document, "script", "infogram-async",
      "https://e.infogram.com/js/dist/embed-loader-min.js");
  </script>

  <!-- Financials Module -->
  <script type="module" src="js/financials.js"></script>
  <script type="module" src="js/speed-insights.js"></script>



</head>

<body>

  <nav class="nav-links" id="main-nav"></nav>
  <div class="page-title page-title--bordered" aria-label="Page title"><i data-lucide="bar-chart-3"
      class="page-icon"></i>Numbers</div>
  <div class="container">
    <div class="collapsible-container">

      <div class="collapsible-content" id="interactive-dashboard-content">
        <div class="filters" id="filters">
          <div class="filters-wrapper">
            <div class="filter-group mobile-filters">
              <button class="filter-btn filter-category-btn" id="categoryBtn">
                <i data-lucide="list" class="filter-icon"></i>
                <span class="filter-text">Filter By</span>
                <i data-lucide="chevron-down" class="filter-dropdown-icon"></i>
              </button>
              <div class="filter-dropdown" id="categoryDropdown">
                <!-- Populated by JavaScript -->
              </div>
            </div>
            <div class="desktop-filters" id="desktopFilters">
              <!-- Desktop buttons will be injected here -->
            </div>
          </div>
        </div>

        <div id="lastUpdated" class="last-updated"></div>

        <div class="categories" id="categories"></div>

        <!-- 13F Filings Section -->
        <div id="latest-13f-filings-anchor" style="position: absolute; pointer-events: none;"></div>
        <div class="category" id="latest-13f-filings" data-category="13F Holdings" style="margin-top: 2rem;">
          <div class="category-title">
            <span class="category-icon"><i data-lucide="building-2"></i></span>
            <span class="category-name">Latest 13F Filings</span>
          </div>          
          <div class="indicators-grid" id="firmCardsContainer" style="grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1rem;">
            <!-- Firm cards will be generated here by JavaScript -->
          </div>
        </div>

        <!-- Chart Modal Popup -->
        <div id="chartModal" class="chart-modal">
          <div class="chart-modal-content">
            <div class="chart-modal-header">
              <h3>
                <i data-lucide="trending-up"></i>
              </h3>
              <button id="closeChartModal">&times;</button>
            </div>
            <div class="chart-modal-body">
            </div>
          </div>
        </div>
      </div>
    </div>
    </main>

    <footer id="social-footer">
      <div class="footer-container">
        <div class="social-links">
          <a href="https://x.com/DocRiter" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)"
            title="X (Twitter)">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg" alt="X (Twitter) logo"
              width="24" height="24" loading="lazy">
          </a>
          <a href="https://www.youtube.com/@BenPalmerShow" target="_blank" rel="noopener noreferrer"
            aria-label="YouTube" title="YouTube">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube logo"
              width="24" height="24" loading="lazy">
          </a>
          <a href="https://benpalmershow.substack.com" target="_blank" rel="noopener noreferrer" aria-label="Substack"
            title="Substack">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/substack.svg" alt="Substack logo"
              width="24" height="24" loading="lazy">
          </a>
          <a href="https://open.spotify.com/show/5re4DaXRuEkKHEYr3Mc6tJ" target="_blank" rel="noopener noreferrer"
            aria-label="Spotify" title="Spotify">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/spotify.svg" alt="Spotify logo"
              width="24" height="24" loading="lazy">
          </a>
          <a href="https://podcasts.apple.com/us/podcast/the-ben-palmer-show/id1529618289" target="_blank"
            rel="noopener noreferrer" aria-label="Apple Podcasts" title="Apple Podcasts">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/applepodcasts.svg"
              alt="Apple Podcasts logo" width="24" height="24" loading="lazy">
          </a>
          <a href="https://buymeacoffee.com/howdystranger" target="_blank" rel="noopener noreferrer"
            aria-label="Buy Me A Coffee" title="Buy Me A Coffee">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/buymeacoffee.svg"
              alt="Buy Me A Coffee logo" width="24" height="24" loading="lazy">
          </a>
        </div>
        <div class="divider"></div>
        <div class="footer-info">
          <p class="footer-text">&copy; 2025 Howdy Stranger. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="js/nav.js" defer></script>
    <script src="js/countdown.js" defer></script>
    <div id="last-updated" style="text-align: center; margin-top: 2rem; color: #666; font-size: 0.9em;"></div>
    <script>
      // Initialize Lucide icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    </script>

    <!-- 13F Holdings Chart Initialization -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const allHoldings = [
            { ticker: "SPY", name: "SPDR S&P 500 ETF TR", value: 250485012, pct: 56.9, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "NFLX", name: "NETFLIX INC", value: 119892000, pct: 27.2, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "PARA", name: "PARAMOUNT SKYDANCE CORP", value: 21561232, pct: 4.9, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "K", name: "KELLANOV", value: 21546654, pct: 4.9, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "ETNB", name: "89BIO INC", value: 7527870, pct: 1.7, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "EA", name: "ELECTRONIC ARTS INC", value: 4397060, pct: 1.0, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "SIRI", name: "SIRIUSXM HOLDINGS INC", value: 1713506, pct: 0.4, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "KBDC", name: "KAYNE ANDERSON BDC INC", value: 1625013, pct: 0.4, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "WBD", name: "WARNER BROS DISCOVERY INC", value: 1240155, pct: 0.3, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "WES", name: "WESTERN MIDSTREAM PARTNERS L", value: 1206203, pct: 0.3, firm: "EQUITEC PROPRIETARY MARKETS, LLC", firmIndex: 0 },
            { ticker: "IVV", name: "ISHARES TR", value: 18735024, pct: 9.9, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "SCHB", name: "AMERICAN CENTY ETF TR", value: 15360599, pct: 8.1, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "AAPL", name: "APPLE INC", value: 10003188, pct: 5.3, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "AMZN", name: "AMAZON COM INC", value: 9621777, pct: 5.1, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "VTV", name: "INVESCO EXCHANGE TRADED FD T", value: 7931686, pct: 4.2, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "SCHW", name: "SCHWAB CHARLES CORP", value: 5728577, pct: 3.0, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "BX", name: "BLACKSTONE INC", value: 5713224, pct: 3.0, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "GOOGL", name: "ALPHABET INC", value: 5593867, pct: 3.0, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "VTI", name: "VANGUARD INDEX FDS", value: 5350695, pct: 2.8, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "BND", name: "VANGUARD BD INDEX FDS", value: 4740046, pct: 2.5, firm: "Lantern Wealth Advisors, LLC", firmIndex: 1 },
            { ticker: "XKEF", name: "STATE STREET SPDR S&P KENSHO NEW ECONOMI", value: 35502630, pct: 9.2, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "QQQ", name: "INVESCO QQQ TRUST SERIES I", value: 34012475, pct: 8.9, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "BIV", name: "VANGUARD INTERMEDIATE-TERM BOND ETF", value: 28414069, pct: 7.4, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "RPV", name: "INVESCO S&P 500 PURE VALUE ETF", value: 27441069, pct: 7.1, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "IEMG", name: "ISHARES CORE MSCI EMERGING MARKETS ETF", value: 20296866, pct: 5.3, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "SPTL", name: "STATE STREET SPDR PORTFOLIO LONG TERM CO", value: 19946547, pct: 5.2, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "VBK", name: "VANGUARD S&P SMALL-CAP 600 GROWTH ETF", value: 18189617, pct: 4.7, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "IGSB", name: "ISHARES 1-5 YEAR INVESTMENT GRADE CORPOR", value: 17863653, pct: 4.7, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "NVDA", name: "NVIDIA CORPORATION COM", value: 17231692, pct: 4.5, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "AAPL", name: "APPLE INC COM", value: 9157102, pct: 2.4, firm: "Strategic Advocates LLC", firmIndex: 2 },
            { ticker: "IVV", name: "ISHARES CORE S&P 500 ETF", value: 38307414, pct: 21.8, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "DIEM", name: "DIMENSIONAL INTERN CORE EQT MKT ETF", value: 17219248, pct: 9.8, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "DFIF", name: "DIMENSIONAL CORE FIXED INCOME ETF", value: 16331142, pct: 9.3, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "AQGA", name: "ASTORIA US QUALITY GROWTH KINGS ETF", value: 15233506, pct: 8.7, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "AQWE", name: "ASTORIA US EQUAL WT QLT KINGS ETF", value: 9224325, pct: 5.2, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "DEMG", name: "DIMENSIONAL EMERG CORE EQY MRKT ETF", value: 6906647, pct: 3.9, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "DXFI", name: "DIMENSIONAL SHRT DRT FXDINCM ETF", value: 6581781, pct: 3.7, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "ITR", name: "SPDR PORT INTER TRM TRSRY ETF", value: 5879127, pct: 3.3, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "AQDU", name: "EA ASTORIA DYNMC CRE US FXD INCM ETF", value: 5832725, pct: 3.3, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "KBWB", name: "INVSC KBW BANK ETF", value: 3912377, pct: 2.2, firm: "Vermillion & White Wealth Management Group, LLC", firmIndex: 3 },
            { ticker: "MA", name: "MASTERCARD INC CLASS A", value: 11353448, pct: 9.6, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "MSFT", name: "MICROSOFT CORP", value: 10031138, pct: 8.5, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "INTU", name: "INTUIT", value: 9160555, pct: 7.7, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "TER", name: "TERADYNE INC", value: 8697334, pct: 7.3, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "GNTX", name: "GENTEX CORP", value: 8500414, pct: 7.2, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "V", name: "VISA INC CLASS A", value: 8247399, pct: 7.0, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "NDSN", name: "NORDSON CORP", value: 8139789, pct: 6.9, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "OLED", name: "UNIVERSAL DISPLAY CORP", value: 7475367, pct: 6.3, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "MCO", name: "MOODYS CORP", value: 6361961, pct: 5.4, firm: "XXEC, Inc.", firmIndex: 4 },
            { ticker: "NVO", name: "NOVO-NORDISK A S F", value: 5497672, pct: 4.6, firm: "XXEC, Inc.", firmIndex: 4 }
        ];

        const firmNames = ['EQUITEC PROPRIETARY MARKETS, LLC', 'Lantern Wealth Advisors, LLC', 'Strategic Advocates LLC', 'Vermillion & White Wealth Management Group, LLC', 'XXEC, Inc.'];
        const firmShortNames = ['EQUITEC', 'Lantern', 'Strategic Advocates', 'Vermillion & White', 'XXEC'];

        // Color scale across spectrum based on portfolio percentage
        const getColorByValue = (percentage) => {
            let hue, saturation, lightness;
            
            if (percentage >= 8) {
                hue = 0;      // Red
                saturation = 100;
                lightness = 40;
            } else if (percentage >= 5) {
                hue = 30;     // Orange
                saturation = 90;
                lightness = 45;
            } else if (percentage >= 3) {
                hue = 60;     // Yellow
                saturation = 80;
                lightness = 50;
            } else if (percentage >= 1.5) {
                hue = 120;    // Green
                saturation = 70;
                lightness = 50;
            } else {
                hue = 240;    // Blue
                saturation = 60;
                lightness = 55;
            }
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        };

        const container = document.getElementById('firmCardsContainer');

        // Create a card for each firm
        for (let firmIdx = 0; firmIdx < 5; firmIdx++) {
            const firmHoldings = allHoldings.filter(h => h.firmIndex === firmIdx).sort((a, b) => b.value - a.value);
            
            if (firmHoldings.length === 0) continue;

            const totalValue = firmHoldings.reduce((sum, h) => sum + h.value, 0);

            // Firm descriptions
            const firmDescriptions = {
                0: "EQUITEC PROPRIETARY MARKETS, LLC is an investment management firm specializing in equity markets with a diversified portfolio approach. The holdings shown are based on their most recent 13F filing with the SEC. <a href='../article/posts/latest_13f_filings_week.md#equitec-proprietary-markets-llc' target='_blank' style='color: var(--accent-primary); text-decoration: none;'>View full filing →</a>",
                1: "Lantern Wealth Advisors, LLC provides comprehensive wealth management services with a focus on strategic asset allocation and diversified ETF-based portfolios. The holdings shown are based on their most recent 13F filing with the SEC. <a href='../article/posts/latest_13f_filings_week.md#lantern-wealth-advisors-llc' target='_blank' style='color: var(--accent-primary); text-decoration: none;'>View full filing →</a>",
                2: "Strategic Advocates LLC is an institutional investment manager offering strategic investment advisory services across multiple asset classes. The holdings shown are based on their most recent 13F filing with the SEC. <a href='../article/posts/latest_13f_filings_week.md#strategic-advocates-llc' target='_blank' style='color: var(--accent-primary); text-decoration: none;'>View full filing →</a>",
                3: "Vermillion & White Wealth Management Group, LLC specializes in wealth management with emphasis on dimensional fund investments and core equity strategies. The holdings shown are based on their most recent 13F filing with the SEC. <a href='../article/posts/latest_13f_filings_week.md#vermillion--white-wealth-management-group-llc' target='_blank' style='color: var(--accent-primary); text-decoration: none;'>View full filing →</a>",
                4: "XXEC, Inc. is an investment management firm focused on quality equities and emerging market strategies for institutional clients. The holdings shown are based on their most recent 13F filing with the SEC. <a href='../article/posts/latest_13f_filings_week.md#xxec-inc' target='_blank' style='color: var(--accent-primary); text-decoration: none;'>View full filing →</a>"
            };

            // Create card HTML
             const card = document.createElement('div');
             card.className = 'indicator';
             card.innerHTML = `
                 <div class="indicator-header">
                     <div style="font-weight: 600; color: var(--text-primary); font-size: 0.95rem;">${firmShortNames[firmIdx]}</div>
                     <div class="indicator-actions">
                         <button class="expand-toggle firm-expand-${firmIdx}" style="display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; cursor: pointer; background: transparent; border: none; padding: 0; color: var(--text-muted); transition: all 0.2s;">
                             <i data-lucide="info" style="width: 16px; height: 16px;"></i>
                         </button>
                     </div>
                 </div>
                 <div class="indicator-content">
                     <div style="display: flex; gap: 0.75rem; margin-bottom: 0.75rem; padding: 0.5rem; background: var(--bg-secondary); border-radius: 4px; font-size: 0.7rem; flex-wrap: wrap;">
                         <div style="display: flex; align-items: center; gap: 0.3rem;">
                             <div style="width: 8px; height: 8px; background: hsl(240, 60%, 55%); border-radius: 1px;"></div>
                             <span style="color: var(--text-muted);">&lt;1.5%</span>
                         </div>
                         <div style="display: flex; align-items: center; gap: 0.3rem;">
                             <div style="width: 8px; height: 8px; background: hsl(120, 70%, 50%); border-radius: 1px;"></div>
                             <span style="color: var(--text-muted);">1.5–3%</span>
                         </div>
                         <div style="display: flex; align-items: center; gap: 0.3rem;">
                             <div style="width: 8px; height: 8px; background: hsl(60, 80%, 50%); border-radius: 1px;"></div>
                             <span style="color: var(--text-muted);">3–5%</span>
                         </div>
                         <div style="display: flex; align-items: center; gap: 0.3rem;">
                             <div style="width: 8px; height: 8px; background: hsl(30, 90%, 45%); border-radius: 1px;"></div>
                             <span style="color: var(--text-muted);">5–8%</span>
                         </div>
                         <div style="display: flex; align-items: center; gap: 0.3rem;">
                             <div style="width: 8px; height: 8px; background: hsl(0, 100%, 40%); border-radius: 1px;"></div>
                             <span style="color: var(--text-muted);">8%+</span>
                         </div>
                     </div>
                     <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.75rem;">AUM: $${(totalValue / 1000000).toFixed(1)}M</div>
                    <div style="display: flex; gap: 8px; align-items: flex-start; flex-wrap: wrap;">
                        <div style="display: flex; flex-direction: column; gap: 2px; width: 100px;">
                             ${firmHoldings.slice(0, 5).map(h => `
                                 <div style="background: var(--bg-secondary); border-left: 3px solid ${getColorByValue(h.pct)}; padding: 2px 4px; border-radius: 2px; font-size: 8px;">
                                     <div style="font-weight: 600; color: var(--text-primary); font-size: 9px;">${h.ticker}</div>
                                     <div style="color: var(--text-muted); font-size: 7px;">${h.pct}% of portfolio</div>
                                 </div>
                             `).join('')}
                         </div>
                        <div style="position: relative; height: 150px; width: 150px;">
                            <canvas id="chart-${firmIdx}"></canvas>
                        </div>
                    </div>
                    <div class="data-rows-container firm-description-${firmIdx}">
                        <div style="padding: 8px 0; border-top: 1px solid var(--border-color); margin-top: 8px; font-size: 0.8rem; color: var(--text-muted); line-height: 1.5;">
                            ${firmDescriptions[firmIdx]}
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(card);

            // Initialize chart after element is added to DOM
            setTimeout(() => {
                const ctx = document.getElementById(`chart-${firmIdx}`);
                if (ctx) {
                    const chartData = firmHoldings.slice(0, 10);
                     new Chart(ctx.getContext('2d'), {
                         type: 'doughnut',
                         data: {
                             labels: chartData.map(h => h.ticker),
                             datasets: [{
                                 data: chartData.map(h => h.value / 1000000),
                                 backgroundColor: chartData.map(h => getColorByValue(h.pct)),
                                 borderColor: '#fdf6e8',
                                 borderWidth: 2
                             }]
                         },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return `$${context.parsed.toFixed(1)}M`;
                                        }
                                    }
                                }
                            }
                        }
                    });
                    
                    // Make chart clickable to open Yahoo Finance
                    ctx.onclick = function(evt) {
                        const chart = Chart.instances[Chart.instances.length - 1];
                        const points = chart.getElementsAtEventForMode(evt, 'nearest', { intersect: true }, true);
                        if (points.length > 0) {
                            const ticker = chartData[points[0].index].ticker;
                            window.open('https://finance.yahoo.com/quote/' + ticker, '_blank');
                        }
                    };
                    ctx.style.cursor = 'pointer';
                }
            }, 0);
        }

        // Add click handlers for expand toggle buttons
        document.addEventListener('click', function(e) {
            const expandBtn = e.target.closest('.expand-toggle');
            if (expandBtn) {
                const card = expandBtn.closest('.indicator');
                card.classList.toggle('expanded');
            }
        });

        // Initialize Lucide icons for expand buttons
        if (typeof lucide !== 'undefined') {
            setTimeout(() => lucide.createIcons(), 100);
        }
      });
    </script>


</body>

</html>